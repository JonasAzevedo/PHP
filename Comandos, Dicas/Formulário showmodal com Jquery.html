<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>.:: Janela centralizada que faz efeito modal ::.</title>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.1/jquery.min.js"></script>
<script type="text/javascript">

$(document).ready(function() {

	$('a[name=modal]').click(function(e) {
		e.preventDefault();

		var id = $(this).attr('href');

		var maskHeight = $(document).height();
		var maskWidth = $(window).width();

		$('#mask').css({'width':maskWidth,'height':maskHeight});

		$('#mask').fadeIn(1000);
		$('#mask').fadeTo("slow",0.8);

		//Get the window height and width
		var winH = $(window).height();
		var winW = $(window).width();

		$(id).css('top',  winH/2-$(id).height()/2);
		$(id).css('left', winW/2-$(id).width()/2);

		$(id).fadeIn(2000);

	});

	$('.window .close').click(function (e) {
		e.preventDefault();

		$('#mask').hide();
		$('.window').hide();
	});

	$('#mask').click(function () {
		$(this).hide();
		$('.window').hide();
	});

});

</script>

<style type="text/css">
body {
font-family:verdana;
font-size:15px;
}

a { text-decoration:none}
a:hover { text-decoration:none}

#mask {
  position:absolute;
  left:0;
  top:0;
  z-index:9000;
  background-color:#000;
  display:none;
}

#boxes .window {
  position:absolute;
  left:0;
  top:0;
  width:440px;
  height:200px;
  display:none;
  z-index:9999;
  padding:20px;
}

#boxes #dialog {
  width:375px; 
  height:203px;
  padding:10px;
  background-color:#ffffff;
}

.close{display:block; text-align:right;}

</style>
</head>
<body>
<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
<center>
    <a href='#dialog' name='modal'>Teste de formulário em showmodal com Jquery</a>
</center>

<div id="boxes">
<div id="dialog" class="window">
<a href="#" class="close">Fechar [X]</a>
<div style="border-bottom:#999999 solid 1px; margin-top:5px;"></div>
<br/>
<form>
<fieldset>
<legend>&nbsp;&nbsp;Formulário:&nbsp;&nbsp;</legend>
<br/>
<table>
    <tr>
        <td>Nome:</td>
        <td><input type="text" size="30" /></td>
    </tr>
    <tr>
        <td>Email:</td>
        <td><input type="text" size="30" /></td>
    </tr>
    <tr>
        <td colspan="2" align="right"><input type="submit" value="Enviar" /></td>
    </tr>
 </table>
 <br/>
</fieldset>
</form>
</div>

<!-- Máscara para cobrir a tela -->
<div id="mask"></div>

</div>

</body>
</html>
